
<div class="mb-3 row" *ngFor="let element of elements">
  <label [for]="element.name" class="col-sm-2 col-form-label fw-bold">{{element.title}}</label>
  <div class="col-sm-10" *ngIf="element.name">
    <ng-container [ngSwitch]="element.element">
      <div class="input-group" *ngSwitchCase="'input'">
        <input [ngModel]="data![element.name]" (ngModelChange)="change(element.name, $event)" [name]="element.name" [type]="element.type" class="form-control">
      </div>
      <div class="input-group" *ngSwitchCase="'select'">
        <select *ngIf="element?.options" [ngModel]="data![element.name]" (ngModelChange)="change(element.name, $event)" [name]="element.name" class="form-select">
          <option *ngFor="let opt of element?.options" [value]="opt.key">{{opt.value}}</option>
        </select>
      </div>
      <div class="input-group" *ngSwitchCase="'textarea'">
        <div style="width:100%;height:500px;border:1px solid #ced4da">
          <ngx-monaco-editor [ngModel]="data![element.name]" (ngModelChange)="change(element.name, $event)" [options]="{theme: 'vs-light', language: element.mode}" [name]="element.name" style="height:100%"></ngx-monaco-editor>
        </div>
      </div>
      <app-collection [name]="element.name" [data]="data![element.name]" (dataChange)="change(element.name, $event)" *ngSwitchCase="'collection'"></app-collection>
      <app-map [name]="element.name" [data]="data![element.name]" (dataChange)="change(element.name, $event)" *ngSwitchCase="'map'"></app-map>
      <div class="input-group" *ngSwitchCase="'typeschema'">
        <div style="width:100%;min-height:500px;border:1px solid #ced4da">
          <typeschema-editor [specification]="spec" (preview)="change(element.name, spec)" [importEnabled]="false"></typeschema-editor>
        </div>
      </div>
    </ng-container>
  </div>
</div>
